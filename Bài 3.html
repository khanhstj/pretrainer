<html>

<head>
   <title>
      BÃ i 3
   </title>
</head>
<style>
   * {
      box-sizing: border-box;
   }
   .container {
      margin-top: 20px;
      margin-left: 300px;
      overflow: hidden;
      box-sizing: border-box;
      width: 600px;
      height: 600px;
      border: solid 1px;
      
   }
   .o {
      float: left;
      width: 5%;
      height: 5%;
      background-color: azure;
      
   }
   .black {
      background-color: black;
   }


</style>

<body>
   <div class="container">
      
      
   </div>

</body>

<script>
   const container = document.querySelector('.container')
   var arr = []
   for(let i = 0; i < 400; i++) {
      arr.push(`<div class="o" data-vitri="${i}"></div>`)
   }
   arr = arr.join('')
   container.innerHTML = arr
   var o = container.querySelectorAll('.o')
   o[210].innerHTML = "x"
   o[210].classList.add('black')

   
   function LayViTriDau() {
      for(let i = 0; i < 400; i++) {
         if(o[i].innerHTML === 'x') {
            return o[i].dataset.vitri
         }
      }
   }
   var a
      
   
   function huongDi (e) {
      
      if(a) {
         console.log(a)
         clearInterval(a)
      }
      
      if(e.code === "ArrowUp") {
         
         a = setInterval(function() {
            var viTriDau = LayViTriDau()
            o[viTriDau].innerHTML = ''
            o[viTriDau].classList.remove('black')
            o[viTriDau-20].innerHTML = 'x'
            o[viTriDau-20].classList.add('black')
         }, 1000)
         console.log(a)
      }
      if(e.code === 'ArrowDown') {
         
         
         a = setInterval(function() {
            var viTriDau = LayViTriDau()
            o[viTriDau].innerHTML = ''
            o[viTriDau].classList.remove('black')
            o[viTriDau+20].innerHTML = 'x'
            o[viTriDau+20].classList.add('black')
         }, 1000)
      }
      if(e.code === 'ArrowLeft') {
         
         var a = setInterval(function() {
            var viTriDau = LayViTriDau()
            o[viTriDau].innerHTML = ''
            o[viTriDau].classList.remove('black')
            o[viTriDau-1].innerHTML = 'x'
            o[viTriDau-1].classList.add('black')
         }, 1000)
      }
      if(e.code === 'ArrowRight') {
         
         var a = setInterval(function() {
            var viTriDau = LayViTriDau()
            o[viTriDau].innerHTML = ''
            o[viTriDau].classList.remove('black')
            o[viTriDau+1].innerHTML = 'x'
            o[viTriDau+1].classList.add('black')
         }, 1000)
      }
   }

   window.addEventListener('keydown', huongDi)


</script>

</html>